{"ast":null,"code":"import axios from \"axios\";\nconst Api_Key = 'AIzaSyBqd6hL7NjcLlQRG1Dtl3x-wFBffW8YLQQ';\nexport function fetchVideos(searchVids) {\n  let request = axios({\n    method: \"get\",\n    url: `https://www.googleapis.com/youtube/v3/search?q=${searchVids}&type=video&maxResults=25&part=snippet&key=${Api_Key}`,\n    data: searchVids\n  });\n  return dispatch => {\n    request.then(response => {\n      console.log(response);\n      dispatch({\n        type: \"Videos\",\n        payload: response.data.items\n      });\n    }).catch(err => console.log(err));\n  };\n}\nexport function relatedVideos(relVids) {\n  let request = axios({\n    method: \"get\",\n    url: `https://www.googleapis.com/youtube/v3/search?part=snippet&relatedToVideoId=${relVids}&maxResults=10&type=video&key=${Api_Key}`,\n    data: relVids\n  });\n  return dispatch => {\n    request.then(response => {\n      let videoIds = response.data.items.map(elem => elem.id.videoId);\n      let ids = relVids + \"%2C\" + videoIds.join(\",\", \"%2C\");\n      videoData(ids).then(res => {\n        dispatch({\n          type: \"relatedVideos\",\n          payload: {\n            relatedVideos: response.data.items,\n            relatedVideosData: res.data.items\n          }\n        });\n      });\n    }).catch();\n  };\n}\nexport function trendingVideos(treVids) {\n  let request = axios({\n    method: \"get\",\n    url: `https://www.googleapis.com/youtube/v3/videos?part=snippet&chart=mostPopular&videoCategoryId=30&maxResults=25&regionCode=IN&key=${Api_Key}`,\n    data: treVids\n  });\n  return dispatch => {\n    request.then(response => {\n      console.log(response);\n      dispatch({\n        type: \"trendingVids\",\n        payload: response.data.items\n      });\n    }).catch();\n  };\n}\n\nfunction videoData(id) {\n  return axios({\n    method: \"get\",\n    url: `https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=${id}&key=${Api_Key}`,\n    data: id\n  }); // return (dispatch) => {\n  //     request.then(response => {\n  //         console.log(\"videoDATAreq \", response)\n  //         dispatch({\n  //             type: \"videoDataReq\",\n  //             payload: response.data.items\n  //         })\n  //     }).catch()\n  // }\n}\n\nexport function setVidID(id) {\n  return {\n    type: \"SetVidID\",\n    payload: id\n  };\n}\nexport function clearVids() {\n  return {\n    type: \"ClearVids\"\n  };\n}\nexport function login(data) {\n  let userdata = axios({\n    method: \"post\",\n    url: \"http://localhost:3020/users\",\n    data: data\n  });\n  return dispatch => {\n    userdata.then(res => {\n      dispatch({\n        type: \"Login\",\n        payload: res.data.data[0]\n      });\n    });\n  };\n}\nexport function signup(data) {\n  let userdata = axios({\n    method: \"post\",\n    url: \"http://localhost:3020/users/signup\",\n    data: data\n  });\n  return dispatch => {\n    userdata.then(res => {\n      dispatch({\n        type: \"SignUp\",\n        payload: res.data.data\n      });\n    });\n  };\n}\nexport function logout() {\n  return {\n    type: \"Logout\"\n  };\n}","map":{"version":3,"sources":["/Users/macbookpro/Downloads/my codes/daily-assignment/W18D1ass/youtube-fe/src/actions/actions.js"],"names":["axios","Api_Key","fetchVideos","searchVids","request","method","url","data","dispatch","then","response","console","log","type","payload","items","catch","err","relatedVideos","relVids","videoIds","map","elem","id","videoId","ids","join","videoData","res","relatedVideosData","trendingVideos","treVids","setVidID","clearVids","login","userdata","signup","logout"],"mappings":"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","sourcesContent":["import axios from \"axios\"\nconst Api_Key = 'AIzaSyBqd6hL7NjcLlQRG1Dtl3x-wFBffW8YLQQ'\n\nexport function fetchVideos(searchVids) {\n    let request = axios({\n        method: \"get\",\n        url: `https://www.googleapis.com/youtube/v3/search?q=${searchVids}&type=video&maxResults=25&part=snippet&key=${Api_Key}`,\n        data: searchVids\n    })\n    return (dispatch) => {\n        request.then(response => {\n            console.log(response)\n            dispatch({\n                type: \"Videos\",\n                payload: response.data.items\n            })\n        }).catch(err => console.log(err));\n    }\n}\n\nexport function relatedVideos(relVids) {\n    let request = axios({\n        method: \"get\",\n        url: `https://www.googleapis.com/youtube/v3/search?part=snippet&relatedToVideoId=${relVids}&maxResults=10&type=video&key=${Api_Key}`,\n        data: relVids\n    })\n\n    return (dispatch) => {\n        request.then(response => {\n            let videoIds = response.data.items.map(elem => elem.id.videoId)\n            let ids = relVids +\"%2C\" + videoIds.join(\",\", \"%2C\")\n\n            videoData(ids)\n                .then(res => {\n\n                    dispatch({\n                        type: \"relatedVideos\",\n                        payload: {\n                            relatedVideos: response.data.items,\n                            relatedVideosData: res.data.items\n                        }\n                    })\n                })\n\n\n\n        }).catch()\n    }\n}\n\nexport function trendingVideos(treVids) {\n    let request = axios({\n        method: \"get\",\n        url: `https://www.googleapis.com/youtube/v3/videos?part=snippet&chart=mostPopular&videoCategoryId=30&maxResults=25&regionCode=IN&key=${Api_Key}`,\n        data: treVids\n    })\n    return (dispatch) => {\n        request.then(response => {\n            console.log(response)\n            dispatch({\n                type: \"trendingVids\",\n                payload: response.data.items\n            })\n        }).catch()\n    }\n}\n\nfunction videoData(id) {\n    return axios({\n        method: \"get\",\n        url: `https://www.googleapis.com/youtube/v3/videos?part=snippet%2CcontentDetails%2Cstatistics&id=${id}&key=${Api_Key}`,\n        data: id\n    })\n    // return (dispatch) => {\n    //     request.then(response => {\n    //         console.log(\"videoDATAreq \", response)\n    //         dispatch({\n    //             type: \"videoDataReq\",\n    //             payload: response.data.items\n    //         })\n    //     }).catch()\n    // }\n}\n\nexport function setVidID(id) {\n    return {\n        type: \"SetVidID\",\n        payload: id\n    }\n}\n\nexport function clearVids() {\n    return {\n        type: \"ClearVids\"\n    }\n}\n\n\nexport function login(data) {\n    let userdata = axios({\n        method: \"post\",\n        url: \"http://localhost:3020/users\",\n        data: data\n    })\n    return (dispatch) => {\n        userdata.then(res => {\n            dispatch({\n                type: \"Login\",\n                payload: res.data.data[0]\n            })\n        })\n    }\n}\n\nexport function signup(data) {\n    let userdata = axios({\n        method: \"post\",\n        url: \"http://localhost:3020/users/signup\",\n        data: data\n    })\n    return (dispatch) => {\n        userdata.then(res => {\n            dispatch({\n                type: \"SignUp\",\n                payload: res.data.data\n            })\n        })\n    }\n}\n\nexport function logout() {\n    return ({\n        type: \"Logout\"\n    })\n}"]},"metadata":{},"sourceType":"module"}